# ============================================================================
# EuroSAT Land-Use Classification â€” Configuration
# ============================================================================
# Single source of truth for all hyperparameters, paths, and settings.

project:
  name: "eurosat-land-use-classification"
  seed: 42
  device: "auto"  # auto | cpu | cuda | mps

data:
  dataset_name: "EuroSAT"
  data_dir: "./data"
  image_size: 64           # Native EuroSAT resolution
  image_size_resnet: 224   # Required for ResNet transfer learning
  num_workers: 0            # 0 recommended for MPS compatibility
  pin_memory: true
  split:
    train: 0.70
    val: 0.15
    test: 0.15
  augmentation:
    enabled: true
    horizontal_flip: true
    vertical_flip: true
    random_rotation: 15      # degrees
    color_jitter:
      brightness: 0.2
      contrast: 0.2
      saturation: 0.1
      hue: 0.05
  normalization:
    # ImageNet statistics (used for transfer learning)
    imagenet_mean: [0.485, 0.456, 0.406]
    imagenet_std: [0.229, 0.224, 0.225]

model:
  type: "baseline"  # baseline | resnet
  num_classes: 10
  baseline:
    # Lightweight 3-block CNN
    channels: [32, 64, 128]
    dropout: 0.3
  resnet:
    # ResNet18 with transfer learning
    pretrained: true
    freeze_backbone: false   # Full fine-tuning (BN stats adapt to satellite data)
    unfreeze_layers: 2       # Unfreeze last N layers after warmup
    warmup_epochs: 3

training:
  batch_size: 64
  epochs: 25
  optimizer:
    type: "adam"
    learning_rate: 0.001
    weight_decay: 0.0001
  scheduler:
    type: "step"
    step_size: 7
    gamma: 0.1
  early_stopping:
    enabled: true
    patience: 5
    min_delta: 0.001
  checkpoint_dir: "./checkpoints"
  use_class_weights: true   # Handle class imbalance

evaluation:
  output_dir: "./outputs"
  num_misclassified_samples: 25
  save_confusion_matrix: true
  save_classification_report: true

inference:
  model_path: "./checkpoints/best_baseline.pth"
  confidence_threshold: 0.5
  api:
    host: "0.0.0.0"
    port: 8000

logging:
  level: "INFO"
  log_dir: "./logs"
